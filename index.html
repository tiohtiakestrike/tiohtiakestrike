<!DOCTYPE html>
<html lang="en" class="lang-en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tiohtià:ke Strike - A movement for housing justice and tenant rights in Montreal. Join the rent strike and fight for affordable housing.">
    <meta name="keywords" content="Tiohtià:ke Strike, Montreal, rent strike, housing, tenants rights, co-op, affordable housing, social justice">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; font-src 'self'; img-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self' https://cryptpad.fr;">
    <title>Tiohtià:ke Strike</title>
    <link rel="stylesheet" href="/styles/site.css">
</head>
<body>
    <div id="landing">
        <header class="page-header" role="banner">
            <nav class="page-nav" role="navigation" data-i18n-aria-label="ariaMainNav" aria-label="Main navigation">
                <a href="/" class="logo logo-no-pointer" data-i18n="title" data-i18n-aria-label="ariaHome" aria-label="Tiohtià:ke Strike - Home"></a>
                <div class="lang-switcher-container">
                    <button class="lang-switcher" data-i18n-aria-label="ariaSwitchLanguage" aria-label="Switch language" aria-pressed="false"></button>
                </div>
                <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle navigation menu" aria-expanded="false">
                    <span class="hamburger-icon">☰</span>
                </button>
                <div class="page-nav-links">
                    <button class="mobile-menu-close" onclick="closeMobileMenu()" aria-label="Close menu">✕</button>
                    <div class="mobile-menu-content">
                        <a href="/about.html" data-i18n="about" data-i18n-aria-label="ariaGoToAbout" aria-label="Go to About page"></a>
                        <a href="/petition.html" data-i18n="petition" data-i18n-aria-label="ariaGoToPetition" aria-label="Go to Petition page"></a>
                        <a href="/resources.html" data-i18n="resources" data-i18n-aria-label="ariaGoToResources" aria-label="Go to Resources page"></a>
                        <a href="/contact.html" data-i18n="contact" data-i18n-aria-label="ariaGoToContact" aria-label="Go to Contact page"></a>
                        <div class="lang-switcher-container">
                            <button class="lang-switcher" data-i18n-aria-label="ariaSwitchLanguage" aria-label="Switch language" aria-pressed="false"></button>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
        <div class="hero">
            <div class="hero-bg" id="heroBg" role="img" data-i18n-aria-label="ariaArtworkImg" aria-label="In the Time of Harmony painting by Paul Signac"></div>
            <div class="hero-bg" style="background-image: url('/assets/In\ the\ time\ of\ Harmony.png');" role="img" aria-hidden="true"></div>
            <div class="overlay"></div>
            <div class="hero-content">
                <h1 data-i18n="title"></h1>
                <p class="subtitle" data-i18n="subtitle"></p>
                <nav class="nav-links" role="navigation" data-i18n-aria-label="ariaPageNav" aria-label="Page navigation">
                    <a href="/petition.html" data-i18n="signPetitionButton" data-i18n-aria-label="ariaGoToPetition" aria-label="Go to Petition page"></a>
                </nav>
                </div>
            <button class="artwork-info-btn" onclick="window.toggleArtworkInfo && window.toggleArtworkInfo(); return false;" data-i18n-aria-label="ariaArtworkInfo" aria-label="Information about the artwork">ℹ</button>
            <div class="artwork-info-panel" id="artworkInfo" role="dialog" aria-labelledby="artworkTitle" aria-modal="true" aria-hidden="true">
                <button class="close-btn" onclick="toggleArtworkInfo()" data-i18n-aria-label="ariaCloseArtwork" aria-label="Close artwork information panel">×</button>
                <h3 id="artworkTitle" data-i18n="artworkTitle"></h3>
                <p>
                    <strong data-i18n="artworkArtist"></strong> <span data-i18n="artworkInfo"></span>
                </p>
                <p>
                    <a href="https://en.wikipedia.org/wiki/In_the_Time_of_Harmony" target="_blank" rel="noopener noreferrer" data-i18n="learnMore" data-i18n-aria-label="ariaLearnMore" aria-label="Learn more about In the Time of Harmony painting on Wikipedia - opens in new window"></a>
                </p>
            </div>
        </div>
    </div>

    <noscript>
        <style>
            .page-nav-links { display: flex !important; }
            .mobile-menu-toggle { display: none !important; }
            [data-i18n] { visibility: visible !important; }
        </style>
        <p style="text-align: center; padding: 2rem; background: #f0f0f0; margin: 0;">
            <strong>JavaScript is disabled.</strong> Some features may not work. Please enable JavaScript for the best experience.
        </p>
    </noscript>

    <script src="/scripts/common.js" defer></script>
    <script src="/scripts/lang-switcher.js" defer></script>
    <script>
        function toggleArtworkInfo() {
            const artworkInfo = document.getElementById('artworkInfo');
            if (artworkInfo) {
                const isActive = artworkInfo.classList.toggle('active');
                artworkInfo.setAttribute('aria-hidden', !isActive);
                
                if (isActive) {
                    const closeBtn = artworkInfo.querySelector('.close-btn');
                    if (closeBtn) {
                        closeBtn.focus();
                    }
                }
            }
        }
        
        window.toggleArtworkInfo = toggleArtworkInfo;
        
        setTimeout(function() {
            const infoBtn = document.querySelector('.artwork-info-btn');
            if (infoBtn) {
                infoBtn.removeAttribute('onclick');
                infoBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    toggleArtworkInfo();
                });
            }
        }, 100);

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const artworkInfo = document.getElementById('artworkInfo');
                if (artworkInfo && artworkInfo.classList.contains('active')) {
                    artworkInfo.classList.remove('active');
                    const infoBtn = document.querySelector('.artwork-info-btn');
                    if (infoBtn) {
                        infoBtn.focus();
                    }
                }
            }
        });

        // Optimized parallax scroll with requestAnimationFrame
        const heroBg = document.getElementById('heroBg');
        if (heroBg) {
            let ticking = false;
        const isMobile = window.innerWidth <= 768;

            function updateParallax() {
                const scrollY = window.scrollY;
        if (isMobile) {
                    const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
                    const scrollPercentage = maxScroll > 0 ? scrollY / maxScroll : 0;
                    const bgPosition = scrollPercentage * 100;
                    heroBg.style.backgroundPosition = `${bgPosition}% center`;
                } else {
                    heroBg.style.transform = `translateY(${scrollY * 0.5}px)`;
                }
                ticking = false;
        }

            window.addEventListener('scroll', () => {
                if (!ticking) {
                    window.requestAnimationFrame(updateParallax);
                    ticking = true;
                }
            }, { passive: true });
        }
    </script>
</body>
</html>
